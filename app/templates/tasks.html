{% extends 'base.html' %}
{% block content %}
{%include 'navbar.html'%} 
{% load static %}
<link rel="stylesheet" href="{% static 'tasks.css' %}">

<div class="row d-flex justify-content-center container">
    <div class="col-md-8">
      <div class="card-hover-shadow-2x mb-3 card">
        <div class="card-header-tab card-header">
          <div class="card-header-title font-size-lg text-capitalize font-weight-normal"><i
              class="fa fa-tasks"></i>&nbsp;Task Lists</div>
          
        </div>
        <div class="scroll-area-sm">
          <perfect-scrollbar class="ps-show-limits">
            <div style="position: static;" class="ps ps--active-y">
              <div class="ps-content">
                <ul class=" list-group list-group-flush">
                  <li class="list-group-item">
                    <div class="todo-indicator bg-warning"></div>
                    <div class="widget-content p-0">
                      <div class="widget-content-wrapper">
                        <div class="widget-content-left mr-2">
                        </div>
                        <ul class="list-group list-group-flush">
                          {% for task in tasks %}
                          <li class="list-group-item task-item">
                            <div>
                              <h3>{{ task.title }}</h3>
                              <p>{{ task.description }}</p>
                              <p>Status: {{ task.get_status_display }}</p>
                              <form method="POST" action="{% url 'update_task_status' task.id %}">
                                {% csrf_token %}
                                <select name="status">
                                  <option value="pending" {%if task.status == 'pending'%}selected{%endif%}>Pending</option>
                                  <option value="in_progress" {%if task.status == 'in_progress'%}selected{%endif%}>In Progress</option>
                                  <option value="completed" {%if task.status == 'completed'%}selected{%endif%}>Completed</option>
                                </select>
                                <button type="submit">Update</button>
                              </form>
                            </div>
                          </li>
                          {% endfor %}
                        </ul>                        
                        </button>
                      </div>
                      </div>
                    </div>
                </ul>
              </div>
            </div>
          </perfect-scrollbar>
        </div>
        <div class="d-block text-right card-footer"></div>
      </div>
    </div>
    </div>
{%endblock%}